{
    "$id": "https://hakutest.shelepugin.ru/files/test.schema.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "Test",
    "description": "Hakutest test JSON file schema",
    "type": "object",
    "properties": {
        "title": {
            "description": "Title of the test",
            "type": "string"
        },
        "description": {
            "description": "Description of the test",
            "type": "string"
        },
        "author": {
            "description": "Author of the test",
            "type": "string"
        },
        "target": {
            "description": "Target audience of the test",
            "type": "string"
        },
        "subject": {
            "description": "Subject of the test",
            "type": "string"
        },
        "institution": {
            "description": "Institution associated with the test",
            "type": "string"
        },
        "createdAt": {
            "description": "Creation time of the test",
            "format": "date-time",
            "type": "string"
        },
        "expiresAt": {
            "description": "Expiration time of the test",
            "format": "date-time",
            "type": "string"
        },
        "tasks": {
            "description": "Tasks of the test",
            "type": ["array", "null"],
            "items": {
                "type": "object",
                "properties": {
                    "type": {
                        "description": "Type of the task",
                        "type": "string",
                        "enum": ["single", "multiple", "open", "file"]
                    },
                    "text": {
                        "description": "Text of the task",
                        "type": "string"
                    },
                    "options": {
                        "description": "Task answer options",
                        "type": ["array", "null"],
                        "items": {
                            "type": "string"
                        }
                    },
                    "answer": {
                        "description": "Correct answer of the task",
                        "type": "string"
                    },
                    "attachment": {
                        "description": "Attachment to the task",
                        "type": ["object", "null"],
                        "properties": {
                            "name": {
                                "description": "Name of the attachment",
                                "type": "string"
                            },
                            "type": {
                                "description": "Type of the attachment",
                                "type": "string",
                                "enum": ["audio", "file", "image", "video"]
                            },
                            "src": {
                                "description": "Source of the attachment, URL or base64 URL",
                                "type": "string"
                            }
                        }
                    }
                }
            }
        }
    }
}
